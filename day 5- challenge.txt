import streamlit as st
import pandas as pd

# Company and Customer Details
company_name = "Veera Enterprises"
customer_name = "Eswaran"
tax_percentage = 18.0  # Fixed 18% tax

st.title(f"üßæ {company_name} - Final Bill")
st.header(f"üìå Billed To: {customer_name}")
st.subheader(f"üßÆ GST Applied: {tax_percentage:.0f}%")

# Fixed item list
items = [
    {"Item": "Rice",  "Weight (KG)": 10, "Price (‚Çπ)": 900},
    {"Item": "Wheat", "Weight (KG)": 5,  "Price (‚Çπ)": 800},
    {"Item": "Sugar", "Weight (KG)": 4,  "Price (‚Çπ)": 700},
    {"Item": "Rava",  "Weight (KG)": 3,  "Price (‚Çπ)": 600},
    {"Item": "Dhall", "Weight (KG)": 2,  "Price (‚Çπ)": 500},
]

# Calculate tax and total for each item
for item in items:
    price = item["Price (‚Çπ)"]
    tax = (tax_percentage / 100) * price
    total = price + tax
    item["Tax (‚Çπ)"] = round(tax, 2)
    item["Total with Tax (‚Çπ)"] = round(total, 2)

# Convert to DataFrame for display
df = pd.DataFrame(items)

# Show table
st.subheader("üì¶ Item-wise Details")
st.dataframe(df, use_container_width=True)

# Total Calculations
subtotal = sum(item["Price (‚Çπ)"] for item in items)
total_tax = sum(item["Tax (‚Çπ)"] for item in items)
grand_total = sum(item["Total with Tax (‚Çπ)"] for item in items)

# Show summary
st.subheader("üí∞ Bill Summary")
st.write(f"Subtotal (Before Tax): ‚Çπ{subtotal:.2f}")
st.write(f"Total GST @ {tax_percentage:.0f}%: ‚Çπ{total_tax:.2f}")
st.success(f"‚úÖ Grand Total (Including Tax): ‚Çπ{grand_total:.2f}")

st.markdown("---")
st.markdown("üôè **Thank you for shopping with Veera Enterprises!**")
